import{U as o,a5 as e,r as s,a6 as t,X as a,a1 as n,a7 as l,a8 as i,Y as c,a9 as r,$ as p,aa as d,a0 as m,a2 as b,ab as u}from"./index-vXRN0nb0.js";import{u as v,b as C}from"./game-DqO2iwES.js";const y={closeOnMaskClick:!1,closeIcon:o.createElement(e,null),destroyOnClose:!1,disableBodyScroll:!0,forceRender:!1,getContainer:()=>document.body,mask:!0,showCloseButton:!1,stopPropagation:["click"],visible:!1},f="adm-popup",k=Object.assign(Object.assign({},y),{closeOnSwipe:!1,position:"bottom"}),g=e=>{const{locale:y,popup:g={}}=t(),O=a(k,g,e),S=n(`${f}-body`,O.bodyClassName,`${f}-body-position-${O.position}`),[$,h]=s.useState(O.visible),j=s.useRef(null);l(j,!(!O.disableBodyScroll||!$)&&"strict"),v((()=>{O.visible&&h(!0)}),[O.visible]);const E=i(),{percent:R}=c({percent:O.visible?0:100,config:{precision:.1,mass:.4,tension:300,friction:30},onRest:()=>{var o,e;E.current||(h(O.visible),O.visible?null===(o=O.afterShow)||void 0===o||o.call(O):null===(e=O.afterClose)||void 0===e||e.call(O))}}),w=C((({swipe:[,o]})=>{var e;O.closeOnSwipe&&(1===o&&"bottom"===O.position||-1===o&&"top"===O.position)&&(null===(e=O.onClose)||void 0===e||e.call(O))}),{axis:"y",enabled:["top","bottom"].includes(O.position)}),N=function(o){const[e,t]=s.useState(o);return v((()=>{t(o)}),[o]),e}($&&O.visible),B=r(O.stopPropagation,p(O,o.createElement("div",Object.assign({className:f,onClick:O.onClick,style:{display:$?void 0:"none",touchAction:["top","bottom"].includes(O.position)?"none":"auto"}},w()),O.mask&&o.createElement(d,{visible:N,forceRender:O.forceRender,destroyOnClose:O.destroyOnClose,onMaskClick:o=>{var e,s;null===(e=O.onMaskClick)||void 0===e||e.call(O,o),O.closeOnMaskClick&&(null===(s=O.onClose)||void 0===s||s.call(O))},className:O.maskClassName,style:O.maskStyle,disableBodyScroll:!1,stopPropagation:O.stopPropagation}),o.createElement(m.div,{className:S,style:Object.assign(Object.assign({},O.bodyStyle),{pointerEvents:R.to((o=>0===o?"unset":"none")),transform:R.to((o=>"bottom"===O.position?`translate(0, ${o}%)`:"top"===O.position?`translate(0, -${o}%)`:"left"===O.position?`translate(-${o}%, 0)`:"right"===O.position?`translate(${o}%, 0)`:"none"))}),ref:j},O.showCloseButton&&o.createElement("a",{className:n(`${f}-close-icon`,"adm-plain-anchor"),onClick:()=>{var o;null===(o=O.onClose)||void 0===o||o.call(O)},role:"button","aria-label":y.common.close},O.closeIcon),O.children))));return o.createElement(b,{active:$,forceRender:O.forceRender,destroyOnClose:O.destroyOnClose},u(O.getContainer,B))};export{g as P};
