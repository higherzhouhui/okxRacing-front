import{t as s,u as a,r as e,b as t,c as o,S as l,R as i,j as c,d as n,e as r,N as d,L as h,E as m,h as f,f as u,s as x,T as j}from"./index-vXRN0nb0.js";import{F as g,r as p,C as w}from"./index-DCfAyZPb.js";const S=()=>{const S=s(),v=a(),[L,I]=e.useState(!1),y=t(),N=o();e.useEffect((()=>l(S,v)),[S,v]),e.useEffect((()=>i(v)),[v]);const b=m.getInstance(),[k,B]=e.useState(!1),[E,z]=e.useState(1500),[C,P]=e.useState(!1);return e.useEffect((()=>{(async()=>{try{localStorage.setItem("h5PcRoot","1");const s=localStorage.getItem("authorization"),a=localStorage.getItem("walletInfo");if(s&&a){I(!0);const[s,e]=await Promise.all([f(JSON.parse(a)),u()]);0==e.code&&N(x(e.data)),0==s.code?(localStorage.setItem("authorization",s.data.user_id),y("/home")):j.show({content:s.msg,position:"center"}),I(!1)}else y("/wallet")}catch(s){y("/wallet")}})(),b.addListener("showCongrates",(({visible:s,time:a})=>{B(s),z(a||1500)})),b.addListener("showBack",(s=>{P(s)})),b.addListener("loading",(s=>{I(s)}))}),[]),c.jsxs("div",{className:"layout maxWidth pcLayout",id:"layout",children:[c.jsx(g,{isH5PcRoot:!0}),C?c.jsx("header",{onClick:()=>y(-1),children:c.jsx("svg",{className:"backBtn",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2332",width:"24",height:"24",children:c.jsx("path",{d:"M395.21518 513.604544l323.135538-312.373427c19.052938-18.416442 19.052938-48.273447 0-66.660212-19.053961-18.416442-49.910737-18.416442-68.964698 0L291.75176 480.290811c-19.052938 18.416442-19.052938 48.273447 0 66.660212l357.633237 345.688183c9.525957 9.207709 22.01234 13.796214 34.497699 13.796214 12.485359 0 24.971741-4.588505 34.466999-13.82896 19.052938-18.416442 19.052938-48.242747 0-66.660212L395.21518 513.604544z",fill:"#ffffff","p-id":"2333"})})}):null,c.jsx("div",{className:"content",children:c.jsxs(n,{children:[p.map((s=>c.jsx(r,{...s},s.path))),c.jsx(r,{path:"*",element:c.jsx(d,{to:"/"})})]})}),c.jsx(w,{visible:k,time:E,callBack:()=>B(!1)}),L?c.jsx(h,{}):null]})};export{S as default};
