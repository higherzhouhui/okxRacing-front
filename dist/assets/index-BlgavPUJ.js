import{b as e,r as s,v as l,q as a,G as i,j as n,H as c}from"./index-vXRN0nb0.js";import{h as t,f as r}from"./common-DYHPXX_Z.js";function d(){var d;const o=e(),[m,v]=s.useState(!1),{connectWallet:h,isConnected:j,disConnectWallet:x,walletInfo:u,isLocking:N,lock:p}=l(),f=a((e=>e.user.info)),[g,w]=s.useState(0);return s.useEffect((()=>{"1"==localStorage.getItem("h5PcRoot")?(v(!0),localStorage.getItem("token")&&i().then((e=>{0==e.code&&w(e.data.count)}))):i().then((e=>{0==e.code&&w(e.data.count)}))}),[]),n.jsxs("div",{className:"wallet-page fadeIn",children:[n.jsxs("div",{className:"wallet-page-title",children:["Upon completion of identity verification, you will be able to obtain",n.jsx("span",{children:"the race driver's license."})]}),n.jsx("div",{className:"sub-title",children:"After obtaining the race driver's license, you will be eligible for the mysterious surprise reward."}),n.jsxs("div",{className:"ready-confirm",children:[n.jsx("img",{src:"/assets/wallet/people.png"}),n.jsx("span",{className:"count",children:g}),n.jsx("span",{className:"desc",children:"renowned drivers have completed the certification."})]}),n.jsxs("div",{className:"connect-wrapper",children:[n.jsxs("div",{className:"title",children:[n.jsx("img",{src:"/assets/frens/type.png",alt:"type"}),n.jsx("span",{children:(null==f?void 0:f.wallet)?"Certified":"Not certified"})]}),n.jsxs("div",{className:"connect-content",children:[n.jsx("div",{className:"full-name",children:`${null==f?void 0:f.firstName} ${null==f?void 0:f.lastName}`}),n.jsxs("div",{className:"username",children:[n.jsx("span",{children:null==f?void 0:f.username}),n.jsxs("span",{className:"time",children:[c(null==f?void 0:f.createdAt).format("YYYY-MM-DD")," Join"]})]}),n.jsxs("div",{className:"lv-container",children:[n.jsxs("div",{className:"lv-left",children:[n.jsx("div",{className:"lv",children:"Current driver level"}),n.jsxs("div",{className:"lv-name",onClick:()=>o("/level"),children:["Novice",n.jsx("img",{src:"/assets/wallet/go.png",width:6})]}),n.jsxs("div",{className:"lv-score",children:["Accumulated points ",n.jsx("span",{children:null==(d=null==f?void 0:f.score)?void 0:d.toLocaleString()})]})]}),n.jsxs("div",{className:"lv-right",children:[n.jsx("img",{src:"/assets/wallet/lv.png",alt:"lv"}),n.jsx("div",{className:"lv-num",children:"1"})]})]}),j&&(null==f?void 0:f.wallet)?n.jsxs("div",{className:"connect-assets",children:[n.jsx("div",{className:"my-assets",onClick:()=>t(f.wallet),children:r(f.wallet)}),m?n.jsx("div",{className:"my-assets",onClick:p,children:N?"unLock":"Lock"}):null,n.jsx("div",{className:"my-assets",onClick:()=>(async()=>{m?await x():o("/assets")})(),children:m?"Disconnect":"Assets"})]}):n.jsx("div",{onClick:async()=>{try{await h()}catch(e){console.error(e.message)}},className:"connect-btn",children:"Connect"})]})]})]})}export{d as default};
